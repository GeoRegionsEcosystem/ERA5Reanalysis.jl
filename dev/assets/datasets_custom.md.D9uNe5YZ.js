import{_ as h,C as p,o as d,c as k,aA as e,j as a,a as l,E as t,w as n}from"./chunks/framework.j7TYMJKW.js";const D=JSON.parse('{"title":"Custom ERA5 Datasets","description":"","frontmatter":{},"headers":[],"relativePath":"datasets/custom.md","filePath":"datasets/custom.md","lastUpdated":null}'),o={name:"datasets/custom.md"},r={class:"jldocstring custom-block",open:""},E={class:"jldocstring custom-block",open:""};function y(c,s,g,u,C,m){const i=p("Badge");return d(),k("div",null,[s[8]||(s[8]=e(`<h1 id="Custom-ERA5-Datasets" tabindex="-1">Custom ERA5 Datasets <a class="header-anchor" href="#Custom-ERA5-Datasets" aria-label="Permalink to &quot;Custom ERA5 Datasets {#Custom-ERA5-Datasets}&quot;">​</a></h1><p>ERA5Reanalysis.jl provides custom dataset types that are derived from the CDS datasets. Currently, we have created a custom <code>ERA5Daily</code> dataset, which is a daily-average of the hourly data from <code>ERA5Hourly</code> data.</p><h3 id="Setup" tabindex="-1">Setup <a class="header-anchor" href="#Setup" aria-label="Permalink to &quot;Setup {#Setup}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ERA5Reanalysis</span></span></code></pre></div><h2 id="The-ERA5Daily-Dataset" tabindex="-1">The <code>ERA5Daily</code> Dataset <a class="header-anchor" href="#The-ERA5Daily-Dataset" aria-label="Permalink to &quot;The \`ERA5Daily\` Dataset {#The-ERA5Daily-Dataset}&quot;">​</a></h2><p>The <code>ERA5Daily</code> dataset structure is used to contain information regarding daily-averaged ERA5 data. This data is not available directly from the CDS, but is computed from <code>ERA5Hourly</code> data.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e5ds </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ERA5Daily</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(start</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2015</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),stop</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2015</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">homedir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">The ERA5Daily Module has the following properties:</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">    Dataset ID        (ID) : era5dy</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">    Date Begin     (start) : 2015-01-01</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">    Date End        (stop) : 2015-01-31</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">    Data Directory  (path) : /home/runner/era5dy</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">    Mask Directory (emask) : /home/runner/emask</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e5ds)</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">ERA5Daily{String, Date}</span></span></code></pre></div><h2 id="Creating-Daily-Data-from-Hourly-Data" tabindex="-1">Creating Daily Data from Hourly Data <a class="header-anchor" href="#Creating-Daily-Data-from-Hourly-Data" aria-label="Permalink to &quot;Creating Daily Data from Hourly Data {#Creating-Daily-Data-from-Hourly-Data}&quot;">​</a></h2><p>In order to create the ERA5 daily datasets from an <code>ERA5Hourly</code> dataset, use the <code>hourly2daily</code> function:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ERA5Reanalysis</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e5ds </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ERA5Hourly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(start</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2015</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),stop</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2015</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">datadir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">evar </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SingleVariable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;t2m&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ereg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ERA5Region</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GeoRegion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TRP&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">hourly2daily</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e5ds,evar,ereg)</span></span></code></pre></div><p>This will compute the daily averages from the hourly data and save them in the appropriate directory structure.</p><h2 id="API" tabindex="-1">API <a class="header-anchor" href="#API" aria-label="Permalink to &quot;API {#API}&quot;">​</a></h2>`,15)),a("details",r,[a("summary",null,[s[0]||(s[0]=a("a",{id:"ERA5Reanalysis.ERA5Daily",href:"#ERA5Reanalysis.ERA5Daily"},[a("span",{class:"jlbinding"},"ERA5Reanalysis.ERA5Daily")],-1)),s[1]||(s[1]=l()),t(i,{type:"info",class:"jlObjectType jlType",text:"Type"})]),s[3]||(s[3]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ERA5Daily </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ERA5Custom</span></span></code></pre></div><p>Specifies that the dataset to be analyzed contains hourly data. All fields are the same as that specified in the <code>ERA5Dataset</code> docstring. However, the fields <code>sldoi</code>, <code>pldoi</code> and <code>ptype</code> are all set to <code>N/A</code> because <code>ERA5Daily</code> is not available in, nor downloadable from, the Climate Data Store.</p>',2)),t(i,{type:"info",class:"source-link",text:"source"},{default:n(()=>[...s[2]||(s[2]=[a("a",{href:"https://github.com/GeoRegionsEcosystem/ERA5Reanalysis.jl/blob/c1ae8e883dcd27fbcc07462365f05aa1adb86072/src/dataset/dataset.jl#L18-L22",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),a("details",E,[a("summary",null,[s[4]||(s[4]=a("a",{id:"ERA5Reanalysis.ERA5Daily-Tuple{}",href:"#ERA5Reanalysis.ERA5Daily-Tuple{}"},[a("span",{class:"jlbinding"},"ERA5Reanalysis.ERA5Daily")],-1)),s[5]||(s[5]=l()),t(i,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),s[7]||(s[7]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ERA5Daily</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    start </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TimeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    stop  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TimeType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractString</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> homedir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ERA5Daily </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ERA5Dataset</span></span></code></pre></div><p>A function that creates an <code>ERA5Hourly</code> module. All possible hours are downloaded, and data is saved month-by-month.</p><p><strong>Keyword Arguments</strong></p><ul><li><p><code>path</code> : The specified directory in which to save the data</p></li><li><p><code>start</code> : The date for which downloads/analysis begins, automatically rounded to the nearest month</p></li><li><p><code>stop</code> : The date for which downloads/analysis finishes, automatically rounded to the nearest month</p></li></ul>`,4)),t(i,{type:"info",class:"source-link",text:"source"},{default:n(()=>[...s[6]||(s[6]=[a("a",{href:"https://github.com/GeoRegionsEcosystem/ERA5Reanalysis.jl/blob/c1ae8e883dcd27fbcc07462365f05aa1adb86072/src/dataset/dataset.jl#L108-L122",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})])])}const b=h(o,[["render",y]]);export{D as __pageData,b as default};
