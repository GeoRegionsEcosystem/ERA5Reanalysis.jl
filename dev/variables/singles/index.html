<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Custom Single-Level Variables · ERA5Reanalysis.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://natgeo-wong.github.io/ERA5Reanalysis.jl/variables/singles/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">ERA5Reanalysis.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">ERA5Datasets</span><ul><li><a class="tocitem" href="../../modules/">CDS Datasets</a></li><li><a class="tocitem" href="../../modules/examples/">Usage Examples</a></li></ul></li><li><span class="tocitem">ERA5Variables</span><ul><li><a class="tocitem" href="../">Variable Types</a></li><li><a class="tocitem" href="../read/">Retrieving Existing ERA5Variables</a></li><li><a class="tocitem" href="../list/">List of Existing ERA5Variables</a></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox" checked/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Creating Custom ERA5Variables</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../pressures/">Custom Pressure-Level Variables</a></li><li class="is-active"><a class="tocitem" href>Custom Single-Level Variables</a><ul class="internal"><li><a class="tocitem" href="#Defining-a-new-SingleVariable-or-SingleCustom"><span>Defining a new <code>SingleVariable</code> or <code>SingleCustom</code></span></a></li><li><a class="tocitem" href="#Removing-Custom-PressureLevel-Variables"><span>Removing Custom <code>PressureLevel</code> Variables</span></a></li><li><a class="tocitem" href="#An-Example!"><span>An Example!</span></a></li></ul></li><li><a class="tocitem" href="../reset/">Resetting ERA5Variables</a></li></ul></li></ul></li><li><span class="tocitem">ERA5Regions</span><ul><li><a class="tocitem" href="../../regions/">The Basics of an ERA5Region</a></li><li><a class="tocitem" href="../../regions/isin/">Is it in an ERA5Region</a></li><li><a class="tocitem" href="../../regions/gridded/">Extracting Data using ERA5Regions</a></li></ul></li><li><span class="tocitem">Downloading ERA5 Data</span><ul><li><a class="tocitem" href="../../downloads/cdsapi/">The CDSAPI</a></li><li><a class="tocitem" href="../../downloads/julia/">Downloading with Julia</a></li><li><a class="tocitem" href="../../downloads/python/">Downloading with Python</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">ERA5Variables</a></li><li><a class="is-disabled">Creating Custom ERA5Variables</a></li><li class="is-active"><a href>Custom Single-Level Variables</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Custom Single-Level Variables</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/natgeo-wong/ERA5Reanalysis.jl/blob/main/docs/src/variables/singles.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Custom-SingleLevel-variables"><a class="docs-heading-anchor" href="#Custom-SingleLevel-variables">Custom <code>SingleLevel</code> variables</a><a id="Custom-SingleLevel-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-SingleLevel-variables" title="Permalink"></a></h1><p>The Climate Data Store provides a very large number of <code>SingleLevel</code> variables.  As such, we only predefine a small subset of the variables available on CDS in ERA5Reanalysis.jl.  However, only <code>SingleVariable</code> type variables can be downloaded from the Climate Data Store - <code>SingleCustom</code> type variables are not defined on CDS.  Therefore, we allow the user the option to define if the custom <code>SingleLevel</code> variable they are defining exists on the Climate Data Store, and store it as a <code>SingleVariable</code> type.</p><h2 id="Defining-a-new-SingleVariable-or-SingleCustom"><a class="docs-heading-anchor" href="#Defining-a-new-SingleVariable-or-SingleCustom">Defining a new <code>SingleVariable</code> or <code>SingleCustom</code></a><a id="Defining-a-new-SingleVariable-or-SingleCustom-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-a-new-SingleVariable-or-SingleCustom" title="Permalink"></a></h2><p>To define both <code>SingleVariable</code> and <code>SingleCustom</code> variables, we use the funciton <code>SingleVariable()</code>.  To create a <code>SingleCustom</code> variable, the keyword argument <code>inCDS</code> must be set to false.</p><article class="docstring"><header><a class="docstring-binding" id="ERA5Reanalysis.SingleVariable" href="#ERA5Reanalysis.SingleVariable"><code>ERA5Reanalysis.SingleVariable</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SingleVariable(
    ST = String;
    varID :: AbstractString,
    lname :: AbstractString = &quot;&quot;,
    vname :: AbstractString,
    units :: AbstractString,
    inCDS :: Bool = true
) -&gt; evar :: SingleLevel</code></pre><p>Create a custom Single-Level variable that is not in the default list exported by ERA5Reanalysis.jl.  These variables are either available in the CDS store (whereby they can be both downloaded analyzed), or not (in which case means that they were separately calculated from other variables and analyzed).</p><p><strong>Keyword Arguments</strong></p><ul><li><code>varID</code> : variable ID (in string format) used in the NetCDF file</li><li><code>lname</code> : long-name for variable (used in specifying variable for CDS downloads)</li><li><code>vname</code> : user-defined variable name</li><li><code>units</code> : user-defined units of the variable</li><li><code>inCDS</code> : Boolean that indicates if this variable is available on the CDS store.  True if available.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/natgeo-wong/ERA5Reanalysis.jl/blob/23520581c01ac33a99cd36d45602d7125811e403/src/variable/single.jl#L76-L96">source</a></section></article><h2 id="Removing-Custom-PressureLevel-Variables"><a class="docs-heading-anchor" href="#Removing-Custom-PressureLevel-Variables">Removing Custom <code>PressureLevel</code> Variables</a><a id="Removing-Custom-PressureLevel-Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Removing-Custom-PressureLevel-Variables" title="Permalink"></a></h2><p>To remove a <code>SingleLevel</code> variable, we can use the <code>rmSingle()</code> function:</p><article class="docstring"><header><a class="docstring-binding" id="ERA5Reanalysis.rmSingle-Tuple{AbstractString}" href="#ERA5Reanalysis.rmSingle-Tuple{AbstractString}"><code>ERA5Reanalysis.rmSingle</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rmSingle( varID :: AbstractString ) -&gt; nothing</code></pre><p>Remove the Single-Level Variable with the ID <code>varID</code> from the lists.</p><p><strong>Arguments</strong></p><ul><li><code>RegID</code> : The keyword ID that will be used to identify the Single-Level Variable that is to be removed</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/natgeo-wong/ERA5Reanalysis.jl/blob/23520581c01ac33a99cd36d45602d7125811e403/src/variable/single.jl#L212-L221">source</a></section></article><h2 id="An-Example!"><a class="docs-heading-anchor" href="#An-Example!">An Example!</a><a id="An-Example!-1"></a><a class="docs-heading-anchor-permalink" href="#An-Example!" title="Permalink"></a></h2><p>In this example, we add two <code>SingleLevel</code> variables to the list:</p><ul><li><code>hvc</code>, for High Vegetation Cover, which is a downloadable variable in the CDS</li><li><code>eke</code>, for Eddy Kinetic Energy, which is not downloadable and must be calculated using other variables</li></ul><p>The Eddy Kinetic Energy is calculated by the following:</p><p class="math-container">\[E = \frac{1}{2g} \int_0^{p_s} \overline{u&#39;^2} + \overline{v&#39;^2} \&gt;dp\]</p><p>And it is often used as a measure of storm-track intensity.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using ERA5Reanalysis</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; SingleVariable(
           varID = &quot;cvh&quot;,
           units = &quot;0-1&quot;,
           vname = &quot;High Vegetation Cover&quot;,
           lname = &quot;high_vegetation_cover&quot;,
       )</code><code class="nohighlight hljs ansi" style="display:block;">The Single-Level Variable &quot;cvh&quot; has the following properties:
    Variable ID    (varID) : cvh
    Long Name      (lname) : high_vegetation_cover
    Variable Name  (vname) : High Vegetation Cover
    Variable Units (units) : 0-1</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; SingleVariable(
           varID = &quot;eke&quot;,
           units = &quot;J m**-2&quot;,
           vname = &quot;Eddy Kinetic Energy&quot;,
           lname = &quot;eddy_kinetic_energy&quot;,
           inCDS = false
       )</code><code class="nohighlight hljs ansi" style="display:block;">The Single-Level Variable &quot;eke&quot; has the following properties:
    Variable ID    (varID) : eke
    Long Name      (lname) : eddy_kinetic_energy
    Variable Name  (vname) : Eddy Kinetic Energy
    Variable Units (units) : J m**-2</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; tableSingles()</code><code class="nohighlight hljs ansi" style="display:block;"> ---------------- ------ -------------------------------- ----------- ---------------------------------------
  Variable Type     ID    Name                               Units     ERA5 Long-Name
 ---------------- ------ -------------------------------- ----------- ---------------------------------------
  SingleVariable   u10    Zonal Wind at 10m Height          m s**-1    10m_u_component_of_wind
  SingleVariable   v10    Meridional Wind at 10m Height     m s**-1    10m_v_component_of_wind
  SingleVariable   u100   Zonal Wind at 100m Height         m s**-1    100m_u_component_of_wind
  SingleVariable   v100   Meridional Wind at 100m Height    m s**-1    100m_v_component_of_wind
  SingleVariable   t2m    2m Temperature                       K       2m_temperature
  SingleVariable   d2m    2m Dewpoint Temperature              K       2m_dewpoint_temperature
  SingleVariable   sst    Sea Surface Temperature              K       sea_surface_temperature
  SingleVariable   skt    Skin Temperature                     K       skin_temperature
  SingleVariable    sp    Surface Pressure                    hPa      surface_pressure
  SingleVariable   msl    Sea Level Pressure                  hPa      mean_sea_level_pressure
  SingleVariable    tp    Total Precipitation                  m       total_precipitation
  SingleVariable    cp    Convective Precipitation             m       convective_precipitation
  SingleVariable   lsp    Large-Scale Precipitation            m       large_scale_precipitation
  SingleVariable   tcw    Total Column Water               kg m**-2    total_column_water
  SingleVariable   tcwv   Total Column Water Vapour        kg m**-2    total_column_water_vapour
  SingleVariable   tcc    Total Cloud Cover                   0-1      total_cloud_cover
  SingleVariable   hcc    High Cloud Cover                    0-1      high_cloud_cover
  SingleVariable   mcc    Medium Cloud Cover                  0-1      medium_cloud_cover
  SingleVariable   lcc    Low Cloud Cover                     0-1      low_cloud_cover
  SingleVariable   cape   CAPE                             J kg**-1    convective_available_potential_energy
  SingleVariable   cin    CIN                              J kg**-1    convective_inhibition
  SingleVariable   tsr    Top Net Solar Radiation           J m**-2    top_net_solar_radiation
  SingleVariable   ttr    Top Net Thermal Radiation         J m**-2    top_net_thermal_radiation
  SingleVariable   ssr    Surface Net Solar Radiation        J m**-2   surface_net_solar_radiation
  SingleVariable   str    Surface Net Thermal Radiation     J m**-2    surface_net_thermal_radiation
  SingleVariable   sshf   Surface Sensible Heat Flux        J m**-2    surface_sensible_heat_flux
  SingleVariable   slhf   Surface Latent Heat Flux          J m**-2    surface_latent_heat_flux
  SingleVariable   cvh    High Vegetation Cover               0-1      high_vegetation_cover
   SingleCustom    eke    Eddy Kinetic Energy               J m**-2    eddy_kinetic_energy
 ---------------- ------ -------------------------------- ----------- ---------------------------------------</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; rmSingle.([&quot;eke&quot;,&quot;hvc&quot;])</code><code class="nohighlight hljs ansi" style="display:block;">[ Info: 2022-08-05T04:44:13.086 - ERA5Reanalysis.jl - Successfully removed the Single-Level variable defined by &quot;eke&quot;
┌ Warning: 2022-08-05T04:44:13.087 - ERA5Reanalysis.jl - &quot;hvc&quot; is not a valid SingleVariable identifier, use the function SingleVariable() or SingleCustom() to add this ERA5Variable to the list.
└ @ ERA5Reanalysis ~/work/ERA5Reanalysis.jl/ERA5Reanalysis.jl/src/variable/single.jl:200
┌ Warning: 2022-08-05T04:44:13.087 - ERA5Reanalysis.jl - No Single-Level variable defined by &quot;hvc&quot; exists, please make sure you specified the correct variable ID
└ @ ERA5Reanalysis ~/work/ERA5Reanalysis.jl/ERA5Reanalysis.jl/src/variable/single.jl:230
2-element Vector{Nothing}:
 nothing
 nothing</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; isSingle(&quot;eke&quot;,throw=false) # don&#39;t throw error, just show warning</code><code class="nohighlight hljs ansi" style="display:block;">┌ Warning: 2022-08-05T04:44:13.320 - ERA5Reanalysis.jl - &quot;eke&quot; is not a valid SingleVariable identifier, use the function SingleVariable() or SingleCustom() to add this ERA5Variable to the list.
└ @ ERA5Reanalysis ~/work/ERA5Reanalysis.jl/ERA5Reanalysis.jl/src/variable/single.jl:200
false</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../pressures/">« Custom Pressure-Level Variables</a><a class="docs-footer-nextpage" href="../reset/">Resetting ERA5Variables »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Friday 5 August 2022 04:44">Friday 5 August 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
