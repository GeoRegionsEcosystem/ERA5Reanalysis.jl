import{_ as s,o as n,c as i,aA as e}from"./chunks/framework.CF6wUc-3.js";const k=JSON.parse('{"title":"Land-Sea Mask Datasets","description":"","frontmatter":{},"headers":[],"relativePath":"using/landsea.md","filePath":"using/landsea.md","lastUpdated":null}'),t={name:"using/landsea.md"};function l(p,a,d,o,h,c){return n(),i("div",null,[...a[0]||(a[0]=[e(`<h1 id="Land-Sea-Mask-Datasets" tabindex="-1">Land-Sea Mask Datasets <a class="header-anchor" href="#Land-Sea-Mask-Datasets" aria-label="Permalink to &quot;Land-Sea Mask Datasets {#Land-Sea-Mask-Datasets}&quot;">​</a></h1><p>ERA5Reanalysis.jl provides land-sea mask functionality that allows distinguishing between data points over land and ocean. This is built upon the <a href="https://github.com/GeoRegionsEcosystem/LandSea.jl" target="_blank" rel="noreferrer">LandSea.jl</a> package.</p><p>The land-sea mask is saved into a <code>LandSea</code> data type, which is defined as a subType of <code>LandSeaFlat</code> in LandSea.jl.</p><div class="tip custom-block"><p class="custom-block-title">Units for the Land-Sea Mask</p><p>For standardization purposes, ERA5Reanalysis.jl uses the following convention:</p><p>0 represents fully ocean, while 1 represents fully land.</p></div><h3 id="Setup" tabindex="-1">Setup <a class="header-anchor" href="#Setup" aria-label="Permalink to &quot;Setup {#Setup}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ERA5Reanalysis</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DelimitedFiles</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CairoMakie</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">download</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://raw.githubusercontent.com/natgeo-wong/GeoPlottingData/main/coastline_resl.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;coast.cst&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">coast </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> readdlm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;coast.cst&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,comments</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">clon  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> coast[:,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">clat  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> coast[:,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nothing</span></span></code></pre></div><h2 id="Retrieving-the-Land-Sea-Mask" tabindex="-1">Retrieving the Land-Sea Mask <a class="header-anchor" href="#Retrieving-the-Land-Sea-Mask" aria-label="Permalink to &quot;Retrieving the Land-Sea Mask {#Retrieving-the-Land-Sea-Mask}&quot;">​</a></h2><p>First, we define an ERA5 dataset and the GeoRegion of interest.</p><div class="language-@example vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">@example</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>e5ds = ERA5Dummy()</span></span>
<span class="line"><span>geo  = RectRegion(&quot;JAV&quot;,&quot;GLB&quot;,&quot;Java&quot;,[-5.5,-9,115,105],savegeo=false)</span></span>
<span class="line"><span>ereg = ERA5Region(geo)</span></span></code></pre></div><p>Then, we retrieve the ERA5 Reanalysis LandSea Dataset using <code>getLandSea()</code>:</p><div class="language-@example vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">@example</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>lsd = getLandSea(e5ds,ereg)</span></span></code></pre></div><h2 id="Visualizing-the-Land-Sea-Mask" tabindex="-1">Visualizing the Land-Sea Mask <a class="header-anchor" href="#Visualizing-the-Land-Sea-Mask" aria-label="Permalink to &quot;Visualizing the Land-Sea Mask {#Visualizing-the-Land-Sea-Mask}&quot;">​</a></h2><div class="language-@example vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">@example</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>fig = Figure()</span></span>
<span class="line"><span>aspect = (maximum(lsd.lon)-minimum(lsd.lon))/(maximum(lsd.lat)-minimum(lsd.lat))</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ax = Axis(</span></span>
<span class="line"><span>    fig[1,1],width=400,height=400/aspect,</span></span>
<span class="line"><span>    title=&quot;ERA5 Land-Sea Mask over Java&quot;,</span></span>
<span class="line"><span>    xlabel=&quot;Longitude / º&quot;,ylabel=&quot;Latitude / º&quot;,</span></span>
<span class="line"><span>    limits=(minimum(lsd.lon)-1,maximum(lsd.lon)+1,minimum(lsd.lat)-1,maximum(lsd.lat)+1)</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>contourf!(</span></span>
<span class="line"><span>    ax,lsd.lon,lsd.lat,lsd.lsm,colormap=:delta,</span></span>
<span class="line"><span>    levels=range(0,1,length=11)</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span>lines!(ax,clon,clat,color=:black)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>resize_to_layout!(fig)</span></span>
<span class="line"><span>fig</span></span></code></pre></div><h2 id="LandSea-Type" tabindex="-1">LandSea Type <a class="header-anchor" href="#LandSea-Type" aria-label="Permalink to &quot;LandSea Type {#LandSea-Type}&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">Missing docstring.</p><p>Missing docstring for <code>ERA5Reanalysis.LandSea</code>. Check Documenter&#39;s build log for details.</p></div><h2 id="API" tabindex="-1">API <a class="header-anchor" href="#API" aria-label="Permalink to &quot;API {#API}&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">Missing docstring.</p><p>Missing docstring for \`ERA5Reanalysis.getLandSea( e5ds :: ERA5Dataset, ereg :: ERA5Region; save :: Bool = true, returnlsd :: Bool = true, smooth :: Bool = false, σlon :: Int = 0, σlat :: Int = 0, iterations :: Int = 100, FT = Float64</p></div>`,17)])])}const g=s(t,[["render",l]]);export{k as __pageData,g as default};
